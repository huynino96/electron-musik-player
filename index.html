<!DOCTYPE html>
<html>
  <head>
    <script>
      if (typeof module === 'object') {
        window.module = module;
        module = undefined;
      }
    </script>

    <script src="lib/jquery.js"></script>
    <script src="lib/vue.js"></script>
    <script src="lib/velocity.js"></script>
    <script src="lib/material.js"></script>
    <link rel="stylesheet" href="lib/material.css" />
    <link rel="stylesheet" href="lib/normalize.css" />

    <script src="src/client/class/player.js"></script>
    <script src="src/client/class/interface/interface.js"></script>
    <script src="src/client/class/interface/fileSystemInterface.js"></script>
    <script src="src/client/class/profile/profile.js"></script>
    <script src="src/client/class/profile/localProfile.js"></script>

    <link rel="stylesheet" href="src/style/main.css" />
  </head>
  <body>
    <div id="player">
      <player :player="player"></player>
    </div>
    <script>
      let profile = new MaterialPlayer.LocalProfile();
      let fsInterface = new MaterialPlayer.FileSystemInterface();
      let player = new MaterialPlayer.Player(
        $('#player')[0],
        fsInterface,
        profile
      );
      player.loadProfiles();

      player.initialize();

      window.onbeforeunload = (e) => {
        player.saveProfiles();
      };
    </script>
  </body>
</html>
